{"ast":null,"code":"import React,{useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Info,DollarSign,Calendar}from'lucide-react';import{useFutureForm}from'./hooks/useFutureForm';import{useFutureAPI}from'./hooks/useFutureAPI';import{useFormNavigation}from'./hooks/useFormNavigation';import{FormStepper}from'./common/FormStepper';import{FormField}from'./common/FormField';import{IdentificationSection}from'./sections/IdentificationSection';import{fieldLabels}from'./schemas/futureFormSchema';// Define form sections\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formSections=[{id:'identification',title:\"Identification de l'instrument\",icon:/*#__PURE__*/_jsx(Info,{className:\"w-5 h-5\"}),description:\"Informations de base\",fields:['symbol','description','isin','fullName']},{id:'deposit',title:\"Dépôt & sous-jacents\",icon:/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"}),description:\"Configuration des marges\",fields:['depositType','lotSize','initialMarginAmount','percentageMargin','underlyingType','underlyingId']},{id:'trading',title:\"Négociation\",icon:/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5\"}),description:\"Paramètres de trading\",fields:['firstTradingDate','lastTraadingDate','tradingCurrency','tickSize','settlementMethod']}];const FutureCreationForm=()=>{// Use custom hooks\nconst formHook=useFutureForm();const apiHook=useFutureAPI();const navigationHook=useFormNavigation(formSections,formHook.validateFields);// Destructure what we need\nconst{form,errors,isSubmitting,tickSizeStr,percentageMarginStr,initialMarginAmountStr,tickValueInput,contractMultiplierInput,editMode,isRate,isAmount,handleFieldChange,handleTickSizeChange,handleTickValueChange,handleContractMultiplierChange,handlePercentageMarginInputChange,handleInitialMarginAmountInputChange,handleModeChange,validateForm,clearFieldErrors,resetForm,setIsSubmitting}=formHook;const{settlementMethods,depositTypes,underlyingTypes,underlyingAssets,isLoading:apiLoading,error:apiError,fetchUnderlyingAssets,createFuture,clearError:clearApiError}=apiHook;const{currentStep,completedSteps,nextStep,prevStep,jumpToStep,getProgressPercentage,getCurrentSection,isLastStep,isFirstStep}=navigationHook;// Fetch underlying assets when type changes\nuseEffect(()=>{if(form.underlyingType){fetchUnderlyingAssets(form.underlyingType);formHook.updateField('underlyingId',0);}else{formHook.updateField('underlyingId',0);}},[form.underlyingType,fetchUnderlyingAssets]);// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();if(!isLastStep())return;if(isSubmitting)return;if(!validateForm()){alert('Veuillez corriger les erreurs avant de soumettre le formulaire');return;}try{setIsSubmitting(true);await createFuture(form);alert('Future créé avec succès');resetForm();// Optionally redirect or show success message\n}catch(err){// Error is already handled by the API hook\nconsole.error('Form submission error:',err);}finally{setIsSubmitting(false);}};// Handle step navigation\nconst handleNextStep=()=>{if(nextStep()){// Clear errors for the next step\nconst nextSection=formSections[currentStep+1];if(nextSection){clearFieldErrors(nextSection.fields);}}};const handlePrevStep=()=>{prevStep();};const handleStepClick=stepIndex=>{if(jumpToStep(stepIndex)){// Clear errors for the new step\nconst section=formSections[stepIndex];if(section){clearFieldErrors(section.fields);}}};// Animation variants\nconst pageTransition={initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20}};// Render step content\nconst renderStepContent=()=>{const currentSection=getCurrentSection();return/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsxs(motion.div,{initial:\"initial\",animate:\"animate\",exit:\"exit\",variants:pageTransition,transition:{duration:0.3},className:\"min-h-[400px]\",children:[currentStep===0&&/*#__PURE__*/_jsx(IdentificationSection,{form:form,errors:errors,onChange:handleFieldChange}),currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-2 my-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>formHook.updateField('depositType','AMOUNT'),className:`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\n                    ${isAmount?'bg-teal-600 text-white scale-105 shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"Montant fixe\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>formHook.updateField('depositType','RATE'),className:`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\n                    ${isRate?'bg-teal-600 text-white scale-105 shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"Pourcentage\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(FormField,{label:fieldLabels.lotSize,name:\"lotSize\",value:form.lotSize,onChange:handleFieldChange,error:errors.lotSize,type:\"number\",required:true,min:1}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.depositType,name:\"depositType\",value:form.depositType,onChange:handleFieldChange,error:errors.depositType,type:\"select\",required:true,options:depositTypes.map(type=>({value:type,label:type}))}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.initialMarginAmount,name:\"initialMarginAmount\",value:initialMarginAmountStr,onChange:handleInitialMarginAmountInputChange,error:errors.initialMarginAmount,readOnly:!isAmount,tooltip:!isAmount?\"Calculé automatiquement\":undefined}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.percentageMargin,name:\"percentageMargin\",value:percentageMarginStr,onChange:handlePercentageMarginInputChange,error:errors.percentageMargin,readOnly:!isRate,tooltip:!isRate?\"Calculé automatiquement\":undefined})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-3 border border-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsx(FormField,{label:fieldLabels.underlyingType,name:\"underlyingType\",value:form.underlyingType,onChange:handleFieldChange,error:errors.underlyingType,type:\"select\",required:true,options:underlyingTypes.map(type=>({value:type,label:type}))}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.underlyingId,name:\"underlyingId\",value:form.underlyingId,onChange:handleFieldChange,error:errors.underlyingId,type:\"select\",required:true,disabled:!form.underlyingType,options:underlyingAssets.map(asset=>({value:asset.id.toString(),label:asset.identifier}))})]})})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-teal-50 to-white p-3 rounded-lg space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-end space-x-4 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(FormField,{label:fieldLabels.tickSize,name:\"tickSize\",value:tickSizeStr,onChange:handleTickSizeChange,error:errors.tickSize,placeholder:\"Ex: 0.01\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleModeChange('tickValue'),className:`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\n                        ${editMode==='tickValue'?'bg-teal-600 text-white scale-105 shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"Saisir Tick Value\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleModeChange('contractMultiplier'),className:`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\n                        ${editMode==='contractMultiplier'?'bg-teal-600 text-white scale-105 shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"Saisir Multiplicateur\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(FormField,{label:fieldLabels.tickValue,name:\"tickValue\",value:editMode==='tickValue'?tickValueInput:form.tickValue,onChange:handleTickValueChange,error:errors.tickValue,type:\"number\",readOnly:editMode!=='tickValue',tooltip:editMode!=='tickValue'?\"Calculé automatiquement\":undefined}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.contractMultiplier,name:\"contractMultiplier\",value:editMode==='contractMultiplier'?contractMultiplierInput:form.contractMultiplier,onChange:handleContractMultiplierChange,error:errors.contractMultiplier,type:\"number\",readOnly:editMode!=='contractMultiplier',tooltip:editMode!=='contractMultiplier'?\"Calculé automatiquement\":undefined})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(FormField,{label:fieldLabels.firstTradingDate,name:\"firstTradingDate\",value:form.firstTradingDate,onChange:handleFieldChange,error:errors.firstTradingDate,type:\"date\",required:true}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.lastTraadingDate,name:\"lastTraadingDate\",value:form.lastTraadingDate,onChange:handleFieldChange,error:errors.lastTraadingDate,type:\"date\",required:true}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.tradingCurrency,name:\"tradingCurrency\",value:form.tradingCurrency,onChange:handleFieldChange,error:errors.tradingCurrency,required:true}),/*#__PURE__*/_jsx(FormField,{label:fieldLabels.settlementMethod,name:\"settlementMethod\",value:form.settlementMethod,onChange:handleFieldChange,error:errors.settlementMethod,type:\"select\",required:true,options:settlementMethods.map(method=>({value:method,label:method}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-semibold text-gray-700\",children:[fieldLabels.instrumentStatus,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>formHook.updateField('instrumentStatus',true),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${form.instrumentStatus?'bg-green-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"C\\xF4t\\xE9\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>formHook.updateField('instrumentStatus',false),className:`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${!form.instrumentStatus?'bg-red-600 text-white shadow-lg':'bg-gray-100 text-gray-600 hover:bg-gray-200'}`,children:\"Non c\\xF4t\\xE9\"})]})]})]})]})]},currentStep)});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-teal-50 to-white py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Cr\\xE9er un Future\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-600\",children:\"Remplissez les informations n\\xE9cessaires pour cr\\xE9er un nouveau Future\"})]}),apiError&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 p-3 bg-red-100 border border-red-300 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-700 text-sm\",children:apiError}),/*#__PURE__*/_jsx(\"button\",{onClick:clearApiError,className:\"mt-2 text-red-600 hover:text-red-800 text-xs underline\",children:\"Fermer\"})]}),/*#__PURE__*/_jsx(FormStepper,{sections:formSections,currentStep:currentStep,completedSteps:completedSteps,onStepClick:handleStepClick}),isLastStep()?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-2 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1.5 bg-teal-100 rounded mr-2\",children:getCurrentSection().icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-gray-800\",children:getCurrentSection().title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:getCurrentSection().description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-300 transform\",children:renderStepContent()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePrevStep,className:`px-3 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105\n                  ${isFirstStep()?'opacity-50 cursor-not-allowed bg-gray-200':'bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-md'}`,disabled:isFirstStep(),children:\"\\u2190 Pr\\xE9c\\xE9dent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting||apiLoading,className:`px-3 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg font-medium\n                  hover:from-teal-700 hover:to-teal-800 transition-all duration-200 transform hover:scale-105\n                  focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 hover:shadow-lg\n                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`,children:/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center\",children:isSubmitting?'Création en cours...':'Créer le Future'})})]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-2 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1.5 bg-teal-100 rounded mr-2\",children:getCurrentSection().icon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-gray-800\",children:getCurrentSection().title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:getCurrentSection().description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-300 transform\",children:renderStepContent()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handlePrevStep,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${isFirstStep()?'opacity-50 cursor-not-allowed bg-gray-200':'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,disabled:isFirstStep(),children:\"\\u2190 Pr\\xE9c\\xE9dent\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNextStep,className:\"px-6 py-3 bg-teal-600 text-white rounded-lg font-medium\\r hover:bg-teal-700 transition-all duration-200\",children:\"Suivant \\u2192\"})]})]})]})});};export default FutureCreationForm;","map":{"version":3,"names":["React","useEffect","motion","AnimatePresence","Info","DollarSign","Calendar","useFutureForm","useFutureAPI","useFormNavigation","FormStepper","FormField","IdentificationSection","fieldLabels","jsx","_jsx","jsxs","_jsxs","formSections","id","title","icon","className","description","fields","FutureCreationForm","formHook","apiHook","navigationHook","validateFields","form","errors","isSubmitting","tickSizeStr","percentageMarginStr","initialMarginAmountStr","tickValueInput","contractMultiplierInput","editMode","isRate","isAmount","handleFieldChange","handleTickSizeChange","handleTickValueChange","handleContractMultiplierChange","handlePercentageMarginInputChange","handleInitialMarginAmountInputChange","handleModeChange","validateForm","clearFieldErrors","resetForm","setIsSubmitting","settlementMethods","depositTypes","underlyingTypes","underlyingAssets","isLoading","apiLoading","error","apiError","fetchUnderlyingAssets","createFuture","clearError","clearApiError","currentStep","completedSteps","nextStep","prevStep","jumpToStep","getProgressPercentage","getCurrentSection","isLastStep","isFirstStep","underlyingType","updateField","handleSubmit","e","preventDefault","alert","err","console","handleNextStep","nextSection","handlePrevStep","handleStepClick","stepIndex","section","pageTransition","initial","opacity","x","animate","exit","renderStepContent","currentSection","mode","children","div","variants","transition","duration","onChange","type","onClick","label","lotSize","name","value","required","min","depositType","options","map","initialMarginAmount","readOnly","tooltip","undefined","percentageMargin","underlyingId","disabled","asset","toString","identifier","tickSize","placeholder","tickValue","contractMultiplier","firstTradingDate","lastTraadingDate","tradingCurrency","settlementMethod","method","instrumentStatus","sections","onStepClick","onSubmit"],"sources":["C:/Users/chemseddine/Desktop/future_sur_taux/frontend/src/components/FutureCreationForm.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Info, DollarSign, Calendar } from 'lucide-react';\r\nimport { useFutureForm } from './hooks/useFutureForm';\r\nimport { useFutureAPI } from './hooks/useFutureAPI';\r\nimport { useFormNavigation } from './hooks/useFormNavigation';\r\nimport { FormStepper } from './common/FormStepper';\r\nimport { FormField } from './common/FormField';\r\nimport { IdentificationSection } from './sections/IdentificationSection';\r\nimport { fieldLabels } from './schemas/futureFormSchema';\r\n\r\n// Define form sections\r\nconst formSections = [\r\n  {\r\n    id: 'identification',\r\n    title: \"Identification de l'instrument\",\r\n    icon: <Info className=\"w-5 h-5\" />,\r\n    description: \"Informations de base\",\r\n    fields: ['symbol', 'description', 'isin', 'fullName']\r\n  },\r\n  {\r\n    id: 'deposit',\r\n    title: \"Dépôt & sous-jacents\",\r\n    icon: <DollarSign className=\"w-5 h-5\" />,\r\n    description: \"Configuration des marges\",\r\n    fields: ['depositType', 'lotSize', 'initialMarginAmount', 'percentageMargin', 'underlyingType', 'underlyingId']\r\n  },\r\n  {\r\n    id: 'trading',\r\n    title: \"Négociation\",\r\n    icon: <Calendar className=\"w-5 h-5\" />,\r\n    description: \"Paramètres de trading\",\r\n    fields: ['firstTradingDate', 'lastTraadingDate', 'tradingCurrency', 'tickSize', 'settlementMethod']\r\n  }\r\n];\r\n\r\nconst FutureCreationForm: React.FC = () => {\r\n  // Use custom hooks\r\n  const formHook = useFutureForm();\r\n  const apiHook = useFutureAPI();\r\n  const navigationHook = useFormNavigation(formSections, formHook.validateFields);\r\n\r\n  // Destructure what we need\r\n  const {\r\n    form,\r\n    errors,\r\n    isSubmitting,\r\n    tickSizeStr,\r\n    percentageMarginStr,\r\n    initialMarginAmountStr,\r\n    tickValueInput,\r\n    contractMultiplierInput,\r\n    editMode,\r\n    isRate,\r\n    isAmount,\r\n    handleFieldChange,\r\n    handleTickSizeChange,\r\n    handleTickValueChange,\r\n    handleContractMultiplierChange,\r\n    handlePercentageMarginInputChange,\r\n    handleInitialMarginAmountInputChange,\r\n    handleModeChange,\r\n    validateForm,\r\n    clearFieldErrors,\r\n    resetForm,\r\n    setIsSubmitting\r\n  } = formHook;\r\n\r\n  const {\r\n    settlementMethods,\r\n    depositTypes,\r\n    underlyingTypes,\r\n    underlyingAssets,\r\n    isLoading: apiLoading,\r\n    error: apiError,\r\n    fetchUnderlyingAssets,\r\n    createFuture,\r\n    clearError: clearApiError\r\n  } = apiHook;\r\n\r\n  const {\r\n    currentStep,\r\n    completedSteps,\r\n    nextStep,\r\n    prevStep,\r\n    jumpToStep,\r\n    getProgressPercentage,\r\n    getCurrentSection,\r\n    isLastStep,\r\n    isFirstStep\r\n  } = navigationHook;\r\n\r\n  // Fetch underlying assets when type changes\r\n  useEffect(() => {\r\n    if (form.underlyingType) {\r\n      fetchUnderlyingAssets(form.underlyingType);\r\n      formHook.updateField('underlyingId', 0);\r\n    } else {\r\n      formHook.updateField('underlyingId', 0);\r\n    }\r\n  }, [form.underlyingType, fetchUnderlyingAssets]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!isLastStep()) return;\r\n    if (isSubmitting) return;\r\n    \r\n    if (!validateForm()) {\r\n      alert('Veuillez corriger les erreurs avant de soumettre le formulaire');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setIsSubmitting(true);\r\n      await createFuture(form);\r\n      alert('Future créé avec succès');\r\n      resetForm();\r\n      // Optionally redirect or show success message\r\n    } catch (err) {\r\n      // Error is already handled by the API hook\r\n      console.error('Form submission error:', err);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle step navigation\r\n  const handleNextStep = () => {\r\n    if (nextStep()) {\r\n      // Clear errors for the next step\r\n      const nextSection = formSections[currentStep + 1];\r\n      if (nextSection) {\r\n        clearFieldErrors(nextSection.fields);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePrevStep = () => {\r\n    prevStep();\r\n  };\r\n\r\n  const handleStepClick = (stepIndex: number) => {\r\n    if (jumpToStep(stepIndex)) {\r\n      // Clear errors for the new step\r\n      const section = formSections[stepIndex];\r\n      if (section) {\r\n        clearFieldErrors(section.fields);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Animation variants\r\n  const pageTransition = {\r\n    initial: { opacity: 0, x: -20 },\r\n    animate: { opacity: 1, x: 0 },\r\n    exit: { opacity: 0, x: 20 }\r\n  };\r\n\r\n  // Render step content\r\n  const renderStepContent = () => {\r\n    const currentSection = getCurrentSection();\r\n    \r\n    return (\r\n      <AnimatePresence mode=\"wait\">\r\n        <motion.div\r\n          key={currentStep}\r\n          initial=\"initial\"\r\n          animate=\"animate\"\r\n          exit=\"exit\"\r\n          variants={pageTransition}\r\n          transition={{ duration: 0.3 }}\r\n          className=\"min-h-[400px]\"\r\n        >\r\n          {/* Step 1: Identification */}\r\n          {currentStep === 0 && (\r\n            <IdentificationSection\r\n              form={form}\r\n              errors={errors}\r\n              onChange={handleFieldChange}\r\n            />\r\n          )}\r\n\r\n          {/* Step 2: Deposit & Underlying */}\r\n          {currentStep === 1 && (\r\n            <div className=\"space-y-3\">\r\n              {/* Deposit Type Toggle */}\r\n              <div className=\"flex justify-center space-x-2 my-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => formHook.updateField('depositType', 'AMOUNT')}\r\n                  className={`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\r\n                    ${isAmount \r\n                      ? 'bg-teal-600 text-white scale-105 shadow-lg' \r\n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                >\r\n                  Montant fixe\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => formHook.updateField('depositType', 'RATE')}\r\n                  className={`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\r\n                    ${isRate \r\n                      ? 'bg-teal-600 text-white scale-105 shadow-lg' \r\n                      : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                >\r\n                  Pourcentage\r\n                </button>\r\n              </div>\r\n\r\n              {/* Form Fields */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <FormField\r\n                  label={fieldLabels.lotSize}\r\n                  name=\"lotSize\"\r\n                  value={form.lotSize}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.lotSize}\r\n                  type=\"number\"\r\n                  required\r\n                  min={1}\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.depositType}\r\n                  name=\"depositType\"\r\n                  value={form.depositType}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.depositType}\r\n                  type=\"select\"\r\n                  required\r\n                  options={depositTypes.map(type => ({ value: type, label: type }))}\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.initialMarginAmount}\r\n                  name=\"initialMarginAmount\"\r\n                  value={initialMarginAmountStr}\r\n                  onChange={handleInitialMarginAmountInputChange}\r\n                  error={errors.initialMarginAmount}\r\n                  readOnly={!isAmount}\r\n                  tooltip={!isAmount ? \"Calculé automatiquement\" : undefined}\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.percentageMargin}\r\n                  name=\"percentageMargin\"\r\n                  value={percentageMarginStr}\r\n                  onChange={handlePercentageMarginInputChange}\r\n                  error={errors.percentageMargin}\r\n                  readOnly={!isRate}\r\n                  tooltip={!isRate ? \"Calculé automatiquement\" : undefined}\r\n                />\r\n              </div>\r\n\r\n              {/* Underlying Assets */}\r\n              <div className=\"bg-white rounded-lg shadow p-3 border border-gray-100\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                  <FormField\r\n                    label={fieldLabels.underlyingType}\r\n                    name=\"underlyingType\"\r\n                    value={form.underlyingType}\r\n                    onChange={handleFieldChange}\r\n                    error={errors.underlyingType}\r\n                    type=\"select\"\r\n                    required\r\n                    options={underlyingTypes.map(type => ({ value: type, label: type }))}\r\n                  />\r\n                  \r\n                  <FormField\r\n                    label={fieldLabels.underlyingId}\r\n                    name=\"underlyingId\"\r\n                    value={form.underlyingId}\r\n                    onChange={handleFieldChange}\r\n                    error={errors.underlyingId}\r\n                    type=\"select\"\r\n                    required\r\n                    disabled={!form.underlyingType}\r\n                    options={underlyingAssets.map(asset => ({ value: asset.id.toString(), label: asset.identifier }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Trading */}\r\n          {currentStep === 2 && (\r\n            <div className=\"space-y-3\">\r\n              {/* Tick Configuration */}\r\n              <div className=\"bg-gradient-to-r from-teal-50 to-white p-3 rounded-lg space-y-3\">\r\n                <div className=\"flex items-end space-x-4 mb-2\">\r\n                  <div className=\"flex-1\">\r\n                    <FormField\r\n                      label={fieldLabels.tickSize}\r\n                      name=\"tickSize\"\r\n                      value={tickSizeStr}\r\n                      onChange={handleTickSizeChange}\r\n                      error={errors.tickSize}\r\n                      placeholder=\"Ex: 0.01\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Mode Toggle */}\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleModeChange('tickValue')}\r\n                      className={`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\r\n                        ${editMode === 'tickValue' \r\n                          ? 'bg-teal-600 text-white scale-105 shadow-lg' \r\n                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                    >\r\n                      Saisir Tick Value\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleModeChange('contractMultiplier')}\r\n                      className={`px-3 py-2 rounded-lg font-medium transition-all duration-300 transform\r\n                        ${editMode === 'contractMultiplier' \r\n                          ? 'bg-teal-600 text-white scale-105 shadow-lg' \r\n                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`}\r\n                    >\r\n                      Saisir Multiplicateur\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tick Value and Contract Multiplier */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <FormField\r\n                    label={fieldLabels.tickValue}\r\n                    name=\"tickValue\"\r\n                    value={editMode === 'tickValue' ? tickValueInput : form.tickValue}\r\n                    onChange={handleTickValueChange}\r\n                    error={errors.tickValue}\r\n                    type=\"number\"\r\n                    readOnly={editMode !== 'tickValue'}\r\n                    tooltip={editMode !== 'tickValue' ? \"Calculé automatiquement\" : undefined}\r\n                  />\r\n                  \r\n                  <FormField\r\n                    label={fieldLabels.contractMultiplier}\r\n                    name=\"contractMultiplier\"\r\n                    value={editMode === 'contractMultiplier' ? contractMultiplierInput : form.contractMultiplier}\r\n                    onChange={handleContractMultiplierChange}\r\n                    error={errors.contractMultiplier}\r\n                    type=\"number\"\r\n                    readOnly={editMode !== 'contractMultiplier'}\r\n                    tooltip={editMode !== 'contractMultiplier' ? \"Calculé automatiquement\" : undefined}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* Other Trading Fields */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                <FormField\r\n                  label={fieldLabels.firstTradingDate}\r\n                  name=\"firstTradingDate\"\r\n                  value={form.firstTradingDate}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.firstTradingDate}\r\n                  type=\"date\"\r\n                  required\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.lastTraadingDate}\r\n                  name=\"lastTraadingDate\"\r\n                  value={form.lastTraadingDate}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.lastTraadingDate}\r\n                  type=\"date\"\r\n                  required\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.tradingCurrency}\r\n                  name=\"tradingCurrency\"\r\n                  value={form.tradingCurrency}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.tradingCurrency}\r\n                  required\r\n                />\r\n                \r\n                <FormField\r\n                  label={fieldLabels.settlementMethod}\r\n                  name=\"settlementMethod\"\r\n                  value={form.settlementMethod}\r\n                  onChange={handleFieldChange}\r\n                  error={errors.settlementMethod}\r\n                  type=\"select\"\r\n                  required\r\n                  options={settlementMethods.map(method => ({ value: method, label: method }))}\r\n                />\r\n                \r\n                {/* Instrument Status */}\r\n                <div className=\"space-y-2\">\r\n                  <label className=\"block text-sm font-semibold text-gray-700\">\r\n                    {fieldLabels.instrumentStatus} <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <div className=\"flex space-x-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => formHook.updateField('instrumentStatus', true)}\r\n                      className={`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${\r\n                        form.instrumentStatus \r\n                          ? 'bg-green-600 text-white shadow-lg' \r\n                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      Côté\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => formHook.updateField('instrumentStatus', false)}\r\n                      className={`flex-1 py-3 px-4 rounded-lg font-semibold transition-all duration-200 ${\r\n                        !form.instrumentStatus \r\n                          ? 'bg-red-600 text-white shadow-lg' \r\n                          : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\r\n                      }`}\r\n                    >\r\n                      Non côté\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </motion.div>\r\n      </AnimatePresence>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-teal-50 to-white py-2\">\r\n      <div className=\"max-w-4xl mx-auto px-2\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-3\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Créer un Future</h1>\r\n          <p className=\"mt-1 text-xs text-gray-600\">\r\n            Remplissez les informations nécessaires pour créer un nouveau Future\r\n          </p>\r\n        </div>\r\n\r\n        {/* API Error Display */}\r\n        {apiError && (\r\n          <div className=\"mb-3 p-3 bg-red-100 border border-red-300 rounded-lg\">\r\n            <p className=\"text-red-700 text-sm\">{apiError}</p>\r\n            <button\r\n              onClick={clearApiError}\r\n              className=\"mt-2 text-red-600 hover:text-red-800 text-xs underline\"\r\n            >\r\n              Fermer\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Stepper */}\r\n        <FormStepper\r\n          sections={formSections}\r\n          currentStep={currentStep}\r\n          completedSteps={completedSteps}\r\n          onStepClick={handleStepClick}\r\n        />\r\n\r\n        {/* Form Content */}\r\n        {isLastStep() ? (\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"bg-white rounded-lg shadow p-2 relative overflow-hidden\">\r\n              {/* Section Header */}\r\n              <div className=\"flex items-center mb-2\">\r\n                <div className=\"p-1.5 bg-teal-100 rounded mr-2\">\r\n                  {getCurrentSection().icon}\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-lg font-bold text-gray-800\">\r\n                    {getCurrentSection().title}\r\n                  </h2>\r\n                  <p className=\"text-xs text-gray-600\">\r\n                    {getCurrentSection().description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Step Content */}\r\n              <div className=\"transition-all duration-300 transform\">\r\n                {renderStepContent()}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Navigation */}\r\n            <div className=\"flex justify-between mt-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handlePrevStep}\r\n                className={`px-3 py-2 rounded-lg font-medium transition-all duration-200 transform hover:scale-105\r\n                  ${isFirstStep()\r\n                    ? 'opacity-50 cursor-not-allowed bg-gray-200'\r\n                    : 'bg-gray-100 hover:bg-gray-200 text-gray-700 hover:shadow-md'\r\n                  }`}\r\n                disabled={isFirstStep()}\r\n              >\r\n                ← Précédent\r\n              </button>\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting || apiLoading}\r\n                className={`px-3 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg font-medium\r\n                  hover:from-teal-700 hover:to-teal-800 transition-all duration-200 transform hover:scale-105\r\n                  focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 hover:shadow-lg\r\n                  disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`}\r\n              >\r\n                <span className=\"flex items-center\">\r\n                  {isSubmitting ? 'Création en cours...' : 'Créer le Future'}\r\n                </span>\r\n              </button>\r\n            </div>\r\n          </form>\r\n        ) : (\r\n          <div>\r\n            <div className=\"bg-white rounded-lg shadow p-2 relative overflow-hidden\">\r\n              {/* Section Header */}\r\n              <div className=\"flex items-center mb-2\">\r\n                <div className=\"p-1.5 bg-teal-100 rounded mr-2\">\r\n                  {getCurrentSection().icon}\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-lg font-bold text-gray-800\">\r\n                    {getCurrentSection().title}\r\n                  </h2>\r\n                  <p className=\"text-xs text-gray-600\">\r\n                    {getCurrentSection().description}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Step Content */}\r\n              <div className=\"transition-all duration-300 transform\">\r\n                {renderStepContent()}\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Navigation */}\r\n            <div className=\"flex justify-between mt-6\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={handlePrevStep}\r\n                className={`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${\r\n                  isFirstStep()\r\n                    ? 'opacity-50 cursor-not-allowed bg-gray-200'\r\n                    : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\r\n                }`}\r\n                disabled={isFirstStep()}\r\n              >\r\n                ← Précédent\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleNextStep}\r\n                className=\"px-6 py-3 bg-teal-600 text-white rounded-lg font-medium\r\n                         hover:bg-teal-700 transition-all duration-200\"\r\n              >\r\n                Suivant →\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FutureCreationForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}