{"ast":null,"code":"import React,{useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Info,Calendar,ClipboardCheck}from'lucide-react';import{toast}from'react-hot-toast';// Hooks\nimport{useFutureForm}from'./hooks/useFutureForm';import{useFormNavigation}from'./hooks/useFormNavigation';import{useFutureAPI}from'./hooks/useFutureAPI';// Components\nimport{FormStepper}from'./common/FormStepper';import{IdentificationSection,DepositSection,TradingSection}from'./sections';import{ValidationMessage}from'./common/ValidationMessage';// Types\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FutureCreationForm=()=>{// Use our custom hooks\nconst{form,errors,isSubmitting,editMode,stringInputs,localInputs,updateField,changeEditMode,handleTickSizeChange,handleTickValueChange,handleContractMultiplierChange,handlePercentageMarginChange,handleInitialMarginAmountChange,handleLotSizeChange,handleDepositTypeChange,handleUnderlyingTypeChange,setSubmitting,validateEntireForm}=useFutureForm();const navigation=useFormNavigation(form,errors);const api=useFutureAPI();// Fetch underlying assets when underlying type changes\nuseEffect(()=>{if(form.underlyingType){// Show loading notification\nconst loadingToast=toast.loading('Chargement des actifs sous-jacents...',{icon:'üîÑ'});api.fetchUnderlyingAssets(form.underlyingType).then(()=>{toast.success('Actifs sous-jacents charg√©s avec succ√®s',{icon:'‚úÖ',duration:3000});}).catch(error=>{toast.error('Erreur lors du chargement des actifs sous-jacents',{icon:'‚ùå',duration:5000});console.error('Error fetching underlying assets:',error);}).finally(()=>{toast.dismiss(loadingToast);});}},[form.underlyingType]);// ‚úÖ Supprim√© 'api' des d√©pendances pour √©viter la boucle infinie\n// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();if(!navigation.isFormReadyForSubmission()){toast.error('Veuillez compl√©ter toutes les √©tapes avant de soumettre',{icon:'‚ö†Ô∏è',duration:5000});return;}if(!validateEntireForm()){toast.error('Veuillez corriger les erreurs avant de soumettre le formulaire',{icon:'‚ùå',duration:5000});return;}setSubmitting(true);try{const result=await api.createFuture(form);if(result.success){toast.success('Future cr√©√© avec succ√®s ! üéâ',{icon:'‚úÖ',duration:6000});// Optionally reset form or redirect\n}else{toast.error(`Erreur lors de la cr√©ation: ${result.error}`,{icon:'',duration:8000});}}catch(error){toast.error('Erreur r√©seau. Veuillez r√©essayer.',{icon:'',duration:8000});}finally{setSubmitting(false);}};// Handle step navigation\nconst handleStepClick=stepIndex=>{const currentStep=navigation.currentStep;const result=navigation.goToStep(stepIndex);if(result){if(stepIndex>currentStep){// Moving forward\ntoast.success(`Navigation vers l'√©tape ${stepIndex+1}`,{icon:'‚û°Ô∏è',duration:2000});}else if(stepIndex<currentStep){// Moving backward\ntoast(`Retour √† l'√©tape ${stepIndex+1}`,{icon:'‚¨ÖÔ∏è',duration:2000,style:{background:'#3B82F6',color:'#fff'}});}}else{// Cannot navigate to this step\ntoast.error('Impossible de naviguer vers cette √©tape',{icon:'üö´',duration:3000});}};// Handle next step with validation\nconst handleNextStep=()=>{const validation=navigation.getCurrentStepValidation();if(!validation.canProceed){// Show detailed validation message\nif(validation.missingFields.length>0){toast.error(`√âtape incompl√®te : ${validation.missingFields.length} champ(s) requis manquant(s)`,{icon:'‚ö†Ô∏è',duration:5000});}else if(validation.errorMessages.length>0){toast.error(`Erreurs de validation : ${validation.errorMessages[0]}`,{icon:'‚ùå',duration:5000});}else{toast.error('Veuillez compl√©ter cette √©tape avant de continuer',{icon:'‚ö†Ô∏è',duration:5000});}return;}// Success notification when moving to next step\nconst nextStepIndex=navigation.currentStep+1;if(nextStepIndex<navigation.totalSteps){toast.success(`√âtape ${nextStepIndex+1} : ${navigation.sections[nextStepIndex].title}`,{icon:'‚úÖ',duration:3000});}navigation.nextStep();};// Render form section based on current step\nconst renderCurrentSection=()=>{const currentSection=navigation.getCurrentSection();if(!currentSection)return null;const sectionIcon={identification:/*#__PURE__*/_jsx(Info,{className:\"w-5 h-5\"}),deposit:/*#__PURE__*/_jsx(ClipboardCheck,{className:\"w-5 h-5\"}),trading:/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5\"})}[currentSection.id]||/*#__PURE__*/_jsx(Info,{className:\"w-5 h-5\"});// Get current step validation\nconst validation=navigation.getCurrentStepValidation();return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-2 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1.5 bg-teal-100 rounded mr-2\",children:sectionIcon}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold text-gray-800\",children:currentSection.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600\",children:currentSection.description})]})]}),validation&&!validation.isValid&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(ValidationMessage,{type:\"error\",title:\"\\xC9tape incompl\\xE8te\",messages:validation.errorMessages,className:\"mb-3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-300 transform\",children:/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:0.3},className:\"min-h-[400px]\",children:[navigation.currentStep===0&&/*#__PURE__*/_jsx(IdentificationSection,{form:form,errors:errors,onChange:updateField}),navigation.currentStep===1&&/*#__PURE__*/_jsx(DepositSection,{form:form,errors:errors,stringInputs:stringInputs,api:{depositTypes:api.depositTypes,underlyingTypes:api.underlyingTypes,underlyingAssets:api.underlyingAssets},onDepositTypeChange:handleDepositTypeChange,onLotSizeChange:handleLotSizeChange,onPercentageMarginChange:handlePercentageMarginChange,onInitialMarginAmountChange:handleInitialMarginAmountChange,onUnderlyingTypeChange:handleUnderlyingTypeChange,onUnderlyingIdChange:value=>updateField('underlyingId',value)}),navigation.currentStep===2&&/*#__PURE__*/_jsx(TradingSection,{form:form,errors:errors,editMode:editMode,stringInputs:stringInputs,localInputs:localInputs,api:{settlementMethods:api.settlementMethods},onTickSizeChange:handleTickSizeChange,onTickValueChange:handleTickValueChange,onContractMultiplierChange:handleContractMultiplierChange,onChangeEditMode:changeEditMode,onFieldChange:updateField})]},navigation.currentStep)})})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-teal-50 to-white py-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-3\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Cr\\xE9er un Future\"})}),/*#__PURE__*/_jsx(FormStepper,{sections:navigation.sections,currentStep:navigation.currentStep,completedSteps:navigation.completedSteps,onStepClick:handleStepClick,getStepValidation:navigation.getStepValidation}),renderCurrentSection(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>navigation.prevStep(),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${navigation.currentStep===0?'opacity-50 cursor-not-allowed bg-gray-200':'bg-gray-100 hover:bg-gray-200 text-gray-700'}`,disabled:navigation.currentStep===0,children:\"\\u2190 Pr\\xE9c\\xE9dent\"}),navigation.currentStep===navigation.totalSteps-1?/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:handleSubmit,disabled:isSubmitting||api.isLoading,className:\"px-6 py-3 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg font-medium hover:from-teal-700 hover:to-teal-800 transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",children:isSubmitting?'Cr√©ation en cours...':'Cr√©er le Future'}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleNextStep,disabled:!navigation.getCurrentStepValidation().canProceed,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${navigation.getCurrentStepValidation().canProceed?'bg-teal-600 text-white hover:bg-teal-700':'bg-gray-300 text-gray-500 cursor-not-allowed'}`,children:\"Suivant \\u2192\"})]})]})});};export default FutureCreationForm;","map":{"version":3,"names":["React","useEffect","motion","AnimatePresence","Info","Calendar","ClipboardCheck","toast","useFutureForm","useFormNavigation","useFutureAPI","FormStepper","IdentificationSection","DepositSection","TradingSection","ValidationMessage","jsx","_jsx","jsxs","_jsxs","FutureCreationForm","form","errors","isSubmitting","editMode","stringInputs","localInputs","updateField","changeEditMode","handleTickSizeChange","handleTickValueChange","handleContractMultiplierChange","handlePercentageMarginChange","handleInitialMarginAmountChange","handleLotSizeChange","handleDepositTypeChange","handleUnderlyingTypeChange","setSubmitting","validateEntireForm","navigation","api","underlyingType","loadingToast","loading","icon","fetchUnderlyingAssets","then","success","duration","catch","error","console","finally","dismiss","handleSubmit","e","preventDefault","isFormReadyForSubmission","result","createFuture","handleStepClick","stepIndex","currentStep","goToStep","style","background","color","handleNextStep","validation","getCurrentStepValidation","canProceed","missingFields","length","errorMessages","nextStepIndex","totalSteps","sections","title","nextStep","renderCurrentSection","currentSection","getCurrentSection","sectionIcon","identification","className","deposit","trading","id","children","description","isValid","type","messages","mode","div","initial","opacity","x","animate","exit","transition","onChange","depositTypes","underlyingTypes","underlyingAssets","onDepositTypeChange","onLotSizeChange","onPercentageMarginChange","onInitialMarginAmountChange","onUnderlyingTypeChange","onUnderlyingIdChange","value","settlementMethods","onTickSizeChange","onTickValueChange","onContractMultiplierChange","onChangeEditMode","onFieldChange","completedSteps","onStepClick","getStepValidation","onClick","prevStep","disabled","isLoading"],"sources":["C:/Users/chemseddine/Desktop/frontend/src/components/forms/FutureCreationForm/FutureCreationForm.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Info, DollarSign, Calendar,ClipboardCheck } from 'lucide-react';\nimport { toast } from 'react-hot-toast';\n\n// Hooks\nimport { useFutureForm } from './hooks/useFutureForm';\nimport { useFormNavigation } from './hooks/useFormNavigation';\nimport { useFutureAPI } from './hooks/useFutureAPI';\n\n// Components\nimport { FormStepper } from './common/FormStepper';\nimport { \n  IdentificationSection, \n  DepositSection, \n  TradingSection \n} from './sections';\nimport { ValidationMessage } from './common/ValidationMessage';\n\n// Types\nimport { FutureFormData } from './schemas/futureFormSchema';\n\nconst FutureCreationForm: React.FC = () => {\n  // Use our custom hooks\n  const {\n    form,\n    errors,\n    isSubmitting,\n    editMode,\n    stringInputs,\n    localInputs,\n    updateField,\n    changeEditMode,\n    handleTickSizeChange,\n    handleTickValueChange,\n    handleContractMultiplierChange,\n    handlePercentageMarginChange,\n    handleInitialMarginAmountChange,\n    handleLotSizeChange,\n    handleDepositTypeChange,\n    handleUnderlyingTypeChange,\n    setSubmitting,\n    validateEntireForm,\n  } = useFutureForm();\n\n  const navigation = useFormNavigation(form, errors);\n  const api = useFutureAPI();\n\n  // Fetch underlying assets when underlying type changes\n  useEffect(() => {\n    if (form.underlyingType) {\n      // Show loading notification\n      const loadingToast = toast.loading('Chargement des actifs sous-jacents...', {\n        icon: 'üîÑ',\n      });\n      \n      api.fetchUnderlyingAssets(form.underlyingType)\n        .then(() => {\n          toast.success('Actifs sous-jacents charg√©s avec succ√®s', {\n            icon: '‚úÖ',\n            duration: 3000,\n          });\n        })\n        .catch((error) => {\n          toast.error('Erreur lors du chargement des actifs sous-jacents', {\n            icon: '‚ùå',\n            duration: 5000,\n          });\n          console.error('Error fetching underlying assets:', error);\n        })\n        .finally(() => {\n          toast.dismiss(loadingToast);\n        });\n    }\n  }, [form.underlyingType]); // ‚úÖ Supprim√© 'api' des d√©pendances pour √©viter la boucle infinie\n\n  // Handle form submission\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!navigation.isFormReadyForSubmission()) {\n      toast.error('Veuillez compl√©ter toutes les √©tapes avant de soumettre', {\n        icon: '‚ö†Ô∏è',\n        duration: 5000,\n      });\n      return;\n    }\n\n    if (!validateEntireForm()) {\n      toast.error('Veuillez corriger les erreurs avant de soumettre le formulaire', {\n        icon: '‚ùå',\n        duration: 5000,\n      });\n      return;\n    }\n\n    setSubmitting(true);\n    \n    try {\n      const result = await api.createFuture(form);\n      \n      if (result.success) {\n        toast.success('Future cr√©√© avec succ√®s ! üéâ', {\n          icon: '‚úÖ',\n          duration: 6000,\n        });\n        // Optionally reset form or redirect\n      } else {\n        toast.error(`Erreur lors de la cr√©ation: ${result.error}`, {\n          icon: '',\n          duration: 8000,\n        });\n      }\n    } catch (error) {\n      toast.error('Erreur r√©seau. Veuillez r√©essayer.', {\n        icon: '',\n        duration: 8000,\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle step navigation\n  const handleStepClick = (stepIndex: number) => {\n    const currentStep = navigation.currentStep;\n    const result = navigation.goToStep(stepIndex);\n    \n    if (result) {\n      if (stepIndex > currentStep) {\n        // Moving forward\n        toast.success(`Navigation vers l'√©tape ${stepIndex + 1}`, {\n          icon: '‚û°Ô∏è',\n          duration: 2000,\n        });\n      } else if (stepIndex < currentStep) {\n        // Moving backward\n        toast(`Retour √† l'√©tape ${stepIndex + 1}`, {\n          icon: '‚¨ÖÔ∏è',\n          duration: 2000,\n          style: {\n            background: '#3B82F6',\n            color: '#fff',\n          },\n        });\n      }\n    } else {\n      // Cannot navigate to this step\n      toast.error('Impossible de naviguer vers cette √©tape', {\n        icon: 'üö´',\n        duration: 3000,\n      });\n    }\n  };\n\n  // Handle next step with validation\n  const handleNextStep = () => {\n    const validation = navigation.getCurrentStepValidation();\n    if (!validation.canProceed) {\n      // Show detailed validation message\n      if (validation.missingFields.length > 0) {\n        toast.error(\n          `√âtape incompl√®te : ${validation.missingFields.length} champ(s) requis manquant(s)`, \n          {\n            icon: '‚ö†Ô∏è',\n            duration: 5000,\n          }\n        );\n      } else if (validation.errorMessages.length > 0) {\n        toast.error(\n          `Erreurs de validation : ${validation.errorMessages[0]}`, \n          {\n            icon: '‚ùå',\n            duration: 5000,\n          }\n        );\n      } else {\n        toast.error('Veuillez compl√©ter cette √©tape avant de continuer', {\n          icon: '‚ö†Ô∏è',\n          duration: 5000,\n        });\n      }\n      return;\n    }\n    \n    // Success notification when moving to next step\n    const nextStepIndex = navigation.currentStep + 1;\n    if (nextStepIndex < navigation.totalSteps) {\n      toast.success(`√âtape ${nextStepIndex + 1} : ${navigation.sections[nextStepIndex].title}`, {\n        icon: '‚úÖ',\n        duration: 3000,\n      });\n    }\n    \n    navigation.nextStep();\n  };\n\n  // Render form section based on current step\n  const renderCurrentSection = () => {\n    const currentSection = navigation.getCurrentSection();\n    if (!currentSection) return null;\n\n    const sectionIcon = {\n      identification: <Info className=\"w-5 h-5\" />,\n      deposit: <ClipboardCheck  className=\"w-5 h-5\" />,\n      trading: <Calendar className=\"w-5 h-5\" />,\n    }[currentSection.id] || <Info className=\"w-5 h-5\" />;\n\n    // Get current step validation\n    const validation = navigation.getCurrentStepValidation();\n\n    return (\n      <div className=\"bg-white rounded-lg shadow p-2 relative overflow-hidden\">\n        {/* Section header */}\n        <div className=\"flex items-center mb-2\">\n          <div className=\"p-1.5 bg-teal-100 rounded mr-2\">\n            {sectionIcon}\n          </div>\n          <div>\n            <h2 className=\"text-lg font-bold text-gray-800\">\n              {currentSection.title}\n            </h2>\n            <p className=\"text-xs text-gray-600\">\n              {currentSection.description}\n            </p>\n          </div>\n        </div>\n\n        {/* Validation Messages */}\n        {validation && !validation.isValid && (\n          <div className=\"mb-4\">\n            <ValidationMessage\n              type=\"error\"\n              title=\"√âtape incompl√®te\"\n              messages={validation.errorMessages}\n              className=\"mb-3\"\n            />\n          </div>\n        )}\n\n        {/* Section content */}\n        <div className=\"transition-all duration-300 transform\">\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={navigation.currentStep}\n              initial={{ opacity: 0, x: -20 }}\n              animate={{ opacity: 1, x: 0 }}\n              exit={{ opacity: 0, x: 20 }}\n              transition={{ duration: 0.3 }}\n              className=\"min-h-[400px]\"\n            >\n              {navigation.currentStep === 0 && (\n                <IdentificationSection\n                  form={form}\n                  errors={errors}\n                  onChange={updateField}\n                />\n              )}\n\n              {navigation.currentStep === 1 && (\n                <DepositSection\n                  form={form}\n                  errors={errors}\n                  stringInputs={stringInputs}\n                  api={{\n                    depositTypes: api.depositTypes,\n                    underlyingTypes: api.underlyingTypes,\n                    underlyingAssets: api.underlyingAssets,\n                  }}\n                  onDepositTypeChange={handleDepositTypeChange}\n                  onLotSizeChange={handleLotSizeChange}\n                  onPercentageMarginChange={handlePercentageMarginChange}\n                  onInitialMarginAmountChange={handleInitialMarginAmountChange}\n                  onUnderlyingTypeChange={handleUnderlyingTypeChange}\n                  onUnderlyingIdChange={(value) => updateField('underlyingId', value)}\n                />\n              )}\n\n              {navigation.currentStep === 2 && (\n                <TradingSection\n                  form={form}\n                  errors={errors}\n                  editMode={editMode}\n                  stringInputs={stringInputs}\n                  localInputs={localInputs}\n                  api={{\n                    settlementMethods: api.settlementMethods,\n                  }}\n                  onTickSizeChange={handleTickSizeChange}\n                  onTickValueChange={handleTickValueChange}\n                  onContractMultiplierChange={handleContractMultiplierChange}\n                  onChangeEditMode={changeEditMode}\n                  onFieldChange={updateField}\n                />\n              )}\n            </motion.div>\n          </AnimatePresence>\n        </div>\n      </div>\n    );\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-teal-50 to-white py-2\">\n      <div className=\"max-w-4xl mx-auto px-2\">\n        {/* Title */}\n        <div className=\"text-center mb-3\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Cr√©er un Future</h1>\n         \n          \n\n        </div>\n\n        {/* Stepper */}\n        <FormStepper\n          sections={navigation.sections}\n          currentStep={navigation.currentStep}\n          completedSteps={navigation.completedSteps}\n          onStepClick={handleStepClick}\n          getStepValidation={navigation.getStepValidation}\n        />\n\n        {/* Form Content */}\n        {renderCurrentSection()}\n\n        {/* Navigation */}\n        <div className=\"flex justify-between mt-6\">\n          <button\n            type=\"button\"\n            onClick={() => navigation.prevStep()}\n            className={`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${\n              navigation.currentStep === 0\n                ? 'opacity-50 cursor-not-allowed bg-gray-200'\n                : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\n            }`}\n            disabled={navigation.currentStep === 0}\n          >\n            ‚Üê Pr√©c√©dent\n          </button>\n\n          {navigation.currentStep === navigation.totalSteps - 1 ? (\n            <button\n              type=\"submit\"\n              onClick={handleSubmit}\n              disabled={isSubmitting || api.isLoading}\n              className=\"px-6 py-3 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg font-medium\n                       hover:from-teal-700 hover:to-teal-800 transition-all duration-200 transform hover:scale-105\n                       focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 hover:shadow-lg\n                       disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n            >\n              {isSubmitting ? 'Cr√©ation en cours...' : 'Cr√©er le Future'}\n            </button>\n          ) : (\n            <button\n              type=\"button\"\n              onClick={handleNextStep}\n              disabled={!navigation.getCurrentStepValidation().canProceed}\n              className={`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${\n                navigation.getCurrentStepValidation().canProceed\n                  ? 'bg-teal-600 text-white hover:bg-teal-700'\n                  : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n              }`}\n            >\n              Suivant ‚Üí\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FutureCreationForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}